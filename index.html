<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Democracy Health Monitor — Oath & Action</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Lora:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Source+Sans+3:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --navy: rgb(20, 30, 52);
  --navy-deep: rgb(12, 18, 35);
  --navy-light: rgb(30, 42, 68);
  --navy-mid: rgb(25, 36, 60);
  --gold: rgb(200, 164, 78);
  --gold-light: rgb(220, 190, 120);
  --gold-dim: rgba(200, 164, 78, 0.15);
  --gold-border: rgba(200, 164, 78, 0.25);
  --warm-gray: rgb(160, 155, 145);
  --off-white: rgb(240, 239, 234);
  --cream: rgb(248, 246, 240);
  --text-dark: rgb(35, 35, 40);
  --text-body: rgb(55, 55, 60);
  --text-muted: rgb(120, 118, 112);
  --red-warn: rgb(192, 64, 64);
  --red-dim: rgba(192, 64, 64, 0.12);
  --green-good: rgb(72, 140, 96);
  --green-dim: rgba(72, 140, 96, 0.12);
  --amber: rgb(210, 140, 40);
  --amber-dim: rgba(210, 140, 40, 0.12);
  --transition-smooth: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }

body {
  font-family: 'Source Sans 3', sans-serif;
  color: var(--text-body);
  background: var(--cream);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

/* NOISE TEXTURE */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  opacity: 0.015;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-size: 256px;
  pointer-events: none;
  z-index: 1000;
}

/* FOCUS */
a:focus-visible, button:focus-visible {
  outline: 2px solid var(--gold);
  outline-offset: 3px;
}

/* HERO */
.hero {
  position: relative;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: var(--navy);
  overflow: hidden;
}

.hero-stars {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse 80% 60% at 20% 80%, rgba(200,164,78,0.07) 0%, transparent 60%),
    radial-gradient(ellipse 60% 50% at 80% 20%, rgba(200,164,78,0.05) 0%, transparent 50%),
    linear-gradient(180deg, rgba(12,18,35,0.4) 0%, transparent 40%, rgba(12,18,35,0.6) 100%);
  pointer-events: none;
  z-index: 1;
}

.hero-content {
  position: relative;
  z-index: 2;
  text-align: center;
  padding: 2rem;
  max-width: 860px;
}

.hero-badge {
  display: inline-block;
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 500;
  font-size: 0.72rem;
  letter-spacing: 3.5px;
  text-transform: uppercase;
  color: var(--gold);
  border: 1px solid var(--gold-border);
  padding: 0.5rem 1.5rem;
  margin-bottom: 2.5rem;
  opacity: 0;
  animation: fadeUp 0.8s ease 0.2s forwards;
}

.hero-title {
  font-family: 'Libre Baskerville', serif;
  font-weight: 700;
  color: var(--off-white);
  font-size: clamp(2.2rem, 5.5vw, 4.2rem);
  letter-spacing: 3px;
  line-height: 1.12;
  margin-bottom: 0.5em;
  opacity: 0;
  animation: fadeUp 0.8s ease 0.4s forwards;
}

.hero-title .gold { color: var(--gold); }

.hero-divider {
  width: 80px;
  height: 1.5px;
  background: var(--gold);
  margin: 1.5rem auto;
  opacity: 0;
  animation: expandLine 0.6s ease 0.7s forwards;
}

.hero-tagline {
  font-family: 'Lora', serif;
  font-style: italic;
  font-weight: 400;
  font-size: clamp(1.05rem, 2.2vw, 1.3rem);
  color: var(--warm-gray);
  margin-bottom: 1.5rem;
  opacity: 0;
  animation: fadeUp 0.8s ease 0.9s forwards;
}

.hero-description {
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 300;
  font-size: 1rem;
  line-height: 1.75;
  color: rgba(240,239,234,0.6);
  max-width: 560px;
  margin: 0 auto 3rem;
  opacity: 0;
  animation: fadeUp 0.8s ease 1.1s forwards;
}

.hero-cta-group {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  flex-wrap: wrap;
  opacity: 0;
  animation: fadeUp 0.8s ease 1.3s forwards;
}

.btn-gold {
  display: inline-flex;
  align-items: center;
  gap: 0.75rem;
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 600;
  font-size: 0.88rem;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--navy);
  background: var(--gold);
  padding: 0.9rem 2rem;
  border: none;
  cursor: pointer;
  text-decoration: none;
  transition: all 0.3s ease;
}

.btn-gold:hover {
  background: var(--gold-light);
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(200,164,78,0.3);
}

.btn-outline {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 500;
  font-size: 0.85rem;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: rgba(240,239,234,0.65);
  border: 1px solid rgba(240,239,234,0.2);
  padding: 0.9rem 2rem;
  background: transparent;
  cursor: pointer;
  text-decoration: none;
  transition: all 0.3s ease;
}

.btn-outline:hover {
  color: var(--gold);
  border-color: var(--gold-border);
}

.scroll-indicator {
  position: absolute;
  bottom: 2.5rem;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2;
  opacity: 0;
  animation: fadeUp 0.8s ease 1.6s forwards;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
}

.scroll-indicator span {
  font-family: 'Source Sans 3', sans-serif;
  font-size: 0.65rem;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: rgba(240,239,234,0.3);
}

.scroll-line {
  display: block;
  width: 1px;
  height: 40px;
  background: linear-gradient(to bottom, var(--gold), transparent);
  animation: scrollPulse 2s ease infinite;
}

/* NAV */
.nav {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 100;
  padding: 1.25rem 3rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: all 0.4s ease;
}

.nav.scrolled {
  background: rgba(20,30,52,0.97);
  backdrop-filter: blur(12px);
  padding: 0.8rem 3rem;
  box-shadow: 0 2px 30px rgba(0,0,0,0.35);
}

.nav-logo {
  font-family: 'Libre Baskerville', serif;
  font-weight: 700;
  font-size: 1.05rem;
  color: var(--off-white);
  text-decoration: none;
  letter-spacing: 2px;
}

.nav-logo .amp {
  font-family: 'Lora', serif;
  font-style: italic;
  font-weight: 500;
  color: var(--gold);
}

.nav-links {
  display: flex;
  gap: 2rem;
  list-style: none;
  align-items: center;
}

.nav-links a {
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 400;
  font-size: 0.82rem;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: rgba(240,239,234,0.65);
  text-decoration: none;
  transition: color 0.3s ease;
  position: relative;
}

.nav-links a::after {
  content: '';
  position: absolute;
  bottom: -4px; left: 0;
  width: 0; height: 1px;
  background: var(--gold);
  transition: width 0.3s ease;
}

.nav-links a:hover { color: var(--off-white); }
.nav-links a:hover::after { width: 100%; }

/* OVERALL HEALTH METER */
.health-meter-section {
  background: var(--navy-deep);
  padding: 5rem 2rem;
  position: relative;
  overflow: hidden;
}

.health-meter-section::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse 70% 60% at 50% 50%, rgba(200,164,78,0.04) 0%, transparent 70%);
  pointer-events: none;
}

.section-container {
  max-width: 1100px;
  margin: 0 auto;
}

.section-header {
  text-align: center;
  margin-bottom: 4rem;
}

.section-label {
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 500;
  font-size: 0.7rem;
  letter-spacing: 4px;
  text-transform: uppercase;
  color: var(--gold);
  display: block;
  margin-bottom: 1rem;
}

.section-title {
  font-family: 'Libre Baskerville', serif;
  font-weight: 700;
  font-size: clamp(1.6rem, 3.5vw, 2.6rem);
  color: var(--off-white);
  letter-spacing: 1px;
  line-height: 1.2;
  margin-bottom: 1rem;
}

.section-intro {
  font-family: 'Lora', serif;
  font-style: italic;
  font-size: 1.05rem;
  color: var(--warm-gray);
  max-width: 520px;
  margin: 0 auto;
  line-height: 1.7;
}

/* GAUGE */
.gauge-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 4rem;
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s ease, transform 0.8s ease;
}
.gauge-wrapper.visible { opacity: 1; transform: none; }

.gauge-container {
  position: relative;
  width: 320px;
  height: 180px;
  margin-bottom: 1.5rem;
}

.gauge-svg { width: 100%; height: 100%; overflow: visible; }

.gauge-label {
  font-family: 'Libre Baskerville', serif;
  font-weight: 700;
  font-size: 2.8rem;
  fill: var(--off-white);
  text-anchor: middle;
}

.gauge-sublabel {
  font-family: 'Source Sans 3', sans-serif;
  font-size: 0.7rem;
  letter-spacing: 3px;
  text-transform: uppercase;
  fill: var(--warm-gray);
  text-anchor: middle;
}

.gauge-status {
  font-family: 'Lora', serif;
  font-style: italic;
  font-size: 1.15rem;
  color: var(--gold);
  text-align: center;
  margin-bottom: 0.5rem;
}

.gauge-note {
  font-family: 'Source Sans 3', sans-serif;
  font-size: 0.85rem;
  color: rgba(160,155,145,0.7);
  text-align: center;
  max-width: 400px;
  line-height: 1.6;
}

/* PILLARS */
.pillars-section {
  background: var(--cream);
  padding: 5rem 2rem;
}

.pillars-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 2px;
  margin-top: 1rem;
}

.pillar-card {
  background: white;
  padding: 2.5rem;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  border-bottom: 2px solid transparent;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.5s ease, transform 0.5s ease, background 0.3s ease, border-color 0.3s ease;
}

.pillar-card.visible { opacity: 1; transform: none; }

.pillar-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0;
  width: 3px;
  height: 0;
  transition: height 0.4s ease;
}

.pillar-card:hover::before { height: 100%; }
.pillar-card:hover { background: rgb(252,251,248); }

.pillar-card.status-critical { border-bottom-color: var(--red-warn); }
.pillar-card.status-critical::before { background: var(--red-warn); }
.pillar-card.status-warning { border-bottom-color: var(--amber); }
.pillar-card.status-warning::before { background: var(--amber); }
.pillar-card.status-good { border-bottom-color: var(--green-good); }
.pillar-card.status-good::before { background: var(--green-good); }

.pillar-icon {
  font-size: 1.8rem;
  margin-bottom: 1rem;
  display: block;
}

.pillar-name {
  font-family: 'Libre Baskerville', serif;
  font-weight: 700;
  font-size: 1.1rem;
  color: var(--text-dark);
  margin-bottom: 0.5rem;
  letter-spacing: 0.5px;
}

.pillar-status-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 600;
  font-size: 0.65rem;
  letter-spacing: 2px;
  text-transform: uppercase;
  padding: 0.25rem 0.75rem;
  margin-bottom: 1rem;
}

.status-critical .pillar-status-badge { background: var(--red-dim); color: var(--red-warn); }
.status-warning .pillar-status-badge { background: var(--amber-dim); color: var(--amber); }
.status-good .pillar-status-badge { background: var(--green-dim); color: var(--green-good); }

.pillar-score-bar {
  height: 4px;
  background: rgba(0,0,0,0.06);
  margin-bottom: 1rem;
  position: relative;
  overflow: hidden;
}

.pillar-score-fill {
  position: absolute;
  top: 0; left: 0;
  height: 100%;
  width: 0%;
  transition: width 1s var(--transition-smooth) 0.3s;
}

.status-critical .pillar-score-fill { background: var(--red-warn); }
.status-warning .pillar-score-fill { background: var(--amber); }
.status-good .pillar-score-fill { background: var(--green-good); }

.pillar-score-label {
  font-family: 'Source Sans 3', sans-serif;
  font-size: 0.72rem;
  color: var(--text-muted);
  margin-bottom: 1rem;
  letter-spacing: 0.5px;
}

.pillar-description {
  font-family: 'Source Sans 3', sans-serif;
  font-size: 0.9rem;
  line-height: 1.65;
  color: var(--text-body);
}

.pillar-expand-btn {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 1.2rem;
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 600;
  font-size: 0.72rem;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--navy);
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  transition: color 0.3s ease;
}

.pillar-expand-btn:hover { color: var(--gold); }

.pillar-expand-btn svg {
  transition: transform 0.3s ease;
}

.pillar-card.expanded .pillar-expand-btn svg { transform: rotate(180deg); }

/* MODAL */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(12,18,35,0.85);
  backdrop-filter: blur(8px);
  z-index: 200;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
}

.modal-overlay.active {
  opacity: 1;
  pointer-events: all;
}

.modal {
  background: var(--navy);
  max-width: 760px;
  width: 100%;
  max-height: 85vh;
  overflow-y: auto;
  position: relative;
  transform: scale(0.95) translateY(20px);
  transition: transform 0.3s var(--transition-smooth);
  border-top: 3px solid var(--gold);
}

.modal-overlay.active .modal { transform: scale(1) translateY(0); }

.modal-header {
  padding: 2.5rem 3rem 1.5rem;
  border-bottom: 1px solid rgba(200,164,78,0.15);
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 1rem;
}

.modal-title-group { flex: 1; }

.modal-label {
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 500;
  font-size: 0.65rem;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--gold);
  display: block;
  margin-bottom: 0.5rem;
}

.modal-title {
  font-family: 'Libre Baskerville', serif;
  font-weight: 700;
  font-size: 1.6rem;
  color: var(--off-white);
  letter-spacing: 0.5px;
  line-height: 1.2;
}

.modal-close {
  background: none;
  border: none;
  color: rgba(240,239,234,0.4);
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0.25rem;
  transition: color 0.3s ease;
  line-height: 1;
  flex-shrink: 0;
}

.modal-close:hover { color: var(--off-white); }

.modal-body {
  padding: 2rem 3rem 3rem;
}

.modal-section-title {
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 600;
  font-size: 0.72rem;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--gold);
  margin-bottom: 1rem;
  margin-top: 2rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.modal-section-title::after {
  content: '';
  flex: 1;
  height: 1px;
  background: rgba(200,164,78,0.2);
}

.modal-section-title:first-child { margin-top: 0; }

.modal-text {
  font-family: 'Source Sans 3', sans-serif;
  font-size: 0.95rem;
  line-height: 1.75;
  color: rgba(240,239,234,0.75);
  margin-bottom: 1rem;
}

.modal-quote {
  font-family: 'Lora', serif;
  font-style: italic;
  font-size: 1.05rem;
  color: var(--warm-gray);
  border-left: 2px solid var(--gold);
  padding-left: 1.5rem;
  margin: 1.5rem 0;
  line-height: 1.7;
}

.indicator-list {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-bottom: 1rem;
}

.indicator-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  font-family: 'Source Sans 3', sans-serif;
  font-size: 0.9rem;
  line-height: 1.5;
  color: rgba(240,239,234,0.75);
}

.indicator-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  margin-top: 0.45rem;
  flex-shrink: 0;
}

.dot-red { background: var(--red-warn); box-shadow: 0 0 6px rgba(192,64,64,0.5); }
.dot-gold { background: var(--gold); box-shadow: 0 0 6px rgba(200,164,78,0.5); }
.dot-green { background: var(--green-good); box-shadow: 0 0 6px rgba(72,140,96,0.5); }

.modal-cta {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 2rem;
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 600;
  font-size: 0.8rem;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--navy);
  background: var(--gold);
  padding: 0.8rem 1.75rem;
  border: none;
  cursor: pointer;
  text-decoration: none;
  transition: all 0.3s ease;
}

.modal-cta:hover {
  background: var(--gold-light);
  transform: translateY(-1px);
  box-shadow: 0 4px 20px rgba(200,164,78,0.3);
}

/* THREATS SECTION */
.threats-section {
  background: var(--navy-deep);
  padding: 5rem 2rem;
  position: relative;
}

.threats-section::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(200,164,78,0.3), transparent);
}

.threats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
}

.threat-card {
  background: rgba(30,42,68,0.5);
  border: 1px solid rgba(200,164,78,0.1);
  padding: 2rem;
  position: relative;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.3s ease;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.5s ease, transform 0.5s ease, background 0.3s ease, border-color 0.3s ease;
}

.threat-card.visible { opacity: 1; transform: none; }
.threat-card:hover { background: rgba(30,42,68,0.8); border-color: rgba(200,164,78,0.25); }

.threat-severity {
  position: absolute;
  top: 0; right: 0;
  width: 0; height: 0;
  border-left: 50px solid transparent;
  border-top: 50px solid;
}

.severity-critical .threat-severity { border-top-color: rgba(192,64,64,0.35); }
.severity-high .threat-severity { border-top-color: rgba(210,140,40,0.35); }
.severity-medium .threat-severity { border-top-color: rgba(200,164,78,0.25); }

.threat-sev-label {
  position: absolute;
  top: 0.4rem; right: 0.3rem;
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 700;
  font-size: 0.5rem;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: white;
  transform: rotate(45deg);
  width: 30px;
  text-align: center;
  line-height: 1.2;
}

.threat-icon { font-size: 1.5rem; margin-bottom: 1rem; display: block; }

.threat-title {
  font-family: 'Libre Baskerville', serif;
  font-weight: 700;
  font-size: 1rem;
  color: var(--off-white);
  margin-bottom: 0.75rem;
  letter-spacing: 0.3px;
  line-height: 1.3;
}

.threat-excerpt {
  font-family: 'Source Sans 3', sans-serif;
  font-size: 0.88rem;
  line-height: 1.65;
  color: rgba(160,155,145,0.85);
}

.threat-read-more {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  margin-top: 1.2rem;
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 600;
  font-size: 0.68rem;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--gold);
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  transition: gap 0.3s ease;
}

.threat-card:hover .threat-read-more { gap: 0.7rem; }

/* WHAT DEMOCRACY NEEDS */
.solutions-section {
  background: var(--cream);
  padding: 5rem 2rem;
}

.timeline {
  position: relative;
  max-width: 800px;
  margin: 0 auto;
  padding-left: 3rem;
}

.timeline::before {
  content: '';
  position: absolute;
  top: 0; bottom: 0;
  left: 0.75rem;
  width: 1px;
  background: linear-gradient(to bottom, var(--gold), rgba(200,164,78,0.1));
}

.timeline-item {
  position: relative;
  margin-bottom: 3rem;
  opacity: 0;
  transform: translateX(-20px);
  transition: opacity 0.5s ease, transform 0.5s ease;
}

.timeline-item.visible { opacity: 1; transform: none; }

.timeline-dot {
  position: absolute;
  left: -2.5rem;
  top: 0.25rem;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--gold);
  border: 3px solid var(--cream);
  box-shadow: 0 0 0 1px var(--gold);
}

.timeline-num {
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 700;
  font-size: 0.65rem;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--gold);
  margin-bottom: 0.5rem;
}

.timeline-title {
  font-family: 'Libre Baskerville', serif;
  font-weight: 700;
  font-size: 1.15rem;
  color: var(--text-dark);
  margin-bottom: 0.75rem;
  letter-spacing: 0.3px;
}

.timeline-body {
  font-family: 'Source Sans 3', sans-serif;
  font-size: 0.92rem;
  line-height: 1.7;
  color: var(--text-body);
}

/* REFORM SPOTLIGHT */
.reforms-section {
  background: var(--navy);
  padding: 5rem 2rem;
  position: relative;
}

.reform-tabs {
  display: flex;
  gap: 0;
  border-bottom: 1px solid rgba(200,164,78,0.2);
  margin-bottom: 3rem;
  overflow-x: auto;
  scrollbar-width: none;
}

.reform-tabs::-webkit-scrollbar { display: none; }

.reform-tab {
  font-family: 'Source Sans 3', sans-serif;
  font-weight: 500;
  font-size: 0.8rem;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: rgba(240,239,234,0.45);
  padding: 1rem 1.75rem;
  background: none;
  border: none;
  border-bottom: 2px solid transparent;
  margin-bottom: -1px;
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.3s ease;
}

.reform-tab:hover { color: rgba(240,239,234,0.8); }
.reform-tab.active { color: var(--gold); border-bottom-color: var(--gold); }

.reform-panel { display: none; }
.reform-panel.active { display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: start; }

.reform-panel-title {
  font-family: 'Libre Baskerville', serif;
  font-weight: 700;
  font-size: 1.8rem;
  color: var(--off-white);
  line-height: 1.2;
  margin-bottom: 1rem;
  letter-spacing: 0.5px;
}

.reform-panel-desc {
  font-family: 'Source Sans 3', sans-serif;
  font-size: 0.95rem;
  line-height: 1.75;
  color: rgba(240,239,234,0.65);
  margin-bottom: 2rem;
}

.reform-panel-quote {
  font-family: 'Lora', serif;
  font-style: italic;
  font-size: 1rem;
  color: var(--warm-gray);
  border-left: 2px solid var(--gold);
  padding-left: 1.5rem;
  line-height: 1.7;
  margin-bottom: 2rem;
}

.reform-stat-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
}

.reform-stat {
  background: rgba(30,42,68,0.5);
  border: 1px solid rgba(200,164,78,0.12);
  padding: 1.5rem;
}

.reform-stat-num {
  font-family: 'Libre Baskerville', serif;
  font-weight: 700;
  font-size: 2rem;
  color: var(--gold);
  line-height: 1;
  margin-bottom: 0.4rem;
}

.reform-stat-label {
  font-family: 'Source Sans 3', sans-serif;
  font-size: 0.82rem;
  color: rgba(160,155,145,0.8);
  line-height: 1.4;
}

/* CALL TO ACTION */
.cta-section {
  background: var(--navy-deep);
  padding: 6rem 2rem;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.cta-section::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse 60% 60% at 50% 50%, rgba(200,164,78,0.06) 0%, transparent 70%);
}

.cta-section .section-title {
  margin-bottom: 1rem;
}

.cta-section .section-intro {
  margin-bottom: 2.5rem;
}

/* FOOTER */
.footer {
  background: var(--navy-deep);
  padding: 2rem 3rem;
  border-top: 1px solid rgba(200,164,78,0.12);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.footer-logo {
  font-family: 'Libre Baskerville', serif;
  font-weight: 700;
  font-size: 0.95rem;
  color: var(--off-white);
  letter-spacing: 2px;
  text-decoration: none;
}

.footer-logo .amp {
  font-family: 'Lora', serif;
  font-style: italic;
  color: var(--gold);
}

.footer-copy {
  font-family: 'Source Sans 3', sans-serif;
  font-size: 0.78rem;
  color: rgba(160,155,145,0.5);
  letter-spacing: 0.5px;
}

/* ANIMATIONS */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(25px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes expandLine {
  from { opacity: 0; width: 0; }
  to { opacity: 1; width: 80px; }
}

@keyframes scrollPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

@keyframes needleSpin {
  from { transform: rotate(var(--needle-start)); }
  to { transform: rotate(var(--needle-end)); }
}

/* RESPONSIVE */
@media (max-width: 768px) {
  .nav { padding: 1rem 1.5rem; }
  .nav.scrolled { padding: 0.75rem 1.5rem; }
  .nav-links { display: none; }
  .reform-panel.active { grid-template-columns: 1fr; gap: 2rem; }
  .reform-stat-grid { grid-template-columns: 1fr 1fr; }
  .modal-header, .modal-body { padding: 1.5rem; }
  .footer { padding: 1.5rem; }
}
</style>
</head>
<body>

<!-- NAV -->
<nav class="nav" id="nav">
  <a href="#" class="nav-logo">Oath <span class="amp">&amp;</span> Action</a>
  <ul class="nav-links">
    <li><a href="#pillars">Pillars</a></li>
    <li><a href="#threats">Threats</a></li>
    <li><a href="#solutions">Solutions</a></li>
    <li><a href="#reforms">Reforms</a></li>
  </ul>
</nav>

<!-- HERO -->
<section class="hero">
  <canvas class="hero-stars" id="starCanvas"></canvas>
  <div class="hero-content">
    <div class="hero-badge">Democracy Health Monitor</div>
    <h1 class="hero-title">
      The State of<br><span class="gold">American Democracy</span>
    </h1>
    <div class="hero-divider"></div>
    <p class="hero-tagline">An interactive assessment of democracy's vital signs</p>
    <p class="hero-description">
      Democracy is not a destination — it's a practice. Explore the pillars that sustain it, 
      the threats eroding it, and the reforms that could restore it.
    </p>
    <div class="hero-cta-group">
      <a href="#pillars" class="btn-gold">Explore the Data ↓</a>
      <a href="#threats" class="btn-outline">View Threats</a>
    </div>
  </div>
  <div class="scroll-indicator">
    <span>Scroll</span>
    <span class="scroll-line"></span>
  </div>
</section>

<!-- OVERALL HEALTH GAUGE -->
<section class="health-meter-section" id="health-meter">
  <div class="section-container">
    <div class="section-header">
      <span class="section-label">Overall Assessment</span>
      <h2 class="section-title" style="color: var(--off-white);">Democracy Health Score</h2>
      <p class="section-intro">A composite index across seven core pillars of democratic health</p>
    </div>

    <div class="gauge-wrapper" id="gauge-wrapper">
      <div class="gauge-container">
        <svg class="gauge-svg" viewBox="0 0 320 180">
          <!-- Background arc -->
          <path d="M 30 160 A 130 130 0 0 1 290 160" fill="none" stroke="rgba(255,255,255,0.07)" stroke-width="18" stroke-linecap="round"/>
          <!-- Score segments -->
          <path d="M 30 160 A 130 130 0 0 1 80 55" fill="none" stroke="rgba(192,64,64,0.6)" stroke-width="18" stroke-linecap="butt"/>
          <path d="M 80 55 A 130 130 0 0 1 180 22" fill="none" stroke="rgba(210,140,40,0.6)" stroke-width="18" stroke-linecap="butt"/>
          <path d="M 180 22 A 130 130 0 0 1 290 160" fill="none" stroke="rgba(72,140,96,0.6)" stroke-width="18" stroke-linecap="butt"/>
          <!-- Progress arc (animated) -->
          <path id="gaugeProgress" d="M 30 160 A 130 130 0 0 1 290 160" fill="none" 
                stroke="url(#gaugeGrad)" stroke-width="6" stroke-linecap="round"
                stroke-dasharray="408" stroke-dashoffset="408"
                style="transition: stroke-dashoffset 2s var(--transition-smooth) 0.5s;"/>
          <!-- Needle -->
          <g id="gaugeNeedle" style="transform-origin: 160px 160px; transform: rotate(-90deg); transition: transform 2s var(--transition-smooth) 0.5s;">
            <line x1="160" y1="160" x2="160" y2="50" stroke="var(--gold)" stroke-width="2" stroke-linecap="round"/>
            <circle cx="160" cy="160" r="6" fill="var(--gold)"/>
            <circle cx="160" cy="160" r="3" fill="var(--navy-deep)"/>
          </g>
          <!-- Labels -->
          <text x="22" y="175" class="gauge-sublabel" font-size="9">CRITICAL</text>
          <text x="280" y="175" class="gauge-sublabel" font-size="9" text-anchor="end">HEALTHY</text>
          <!-- Center text -->
          <text x="160" y="145" class="gauge-label" id="gaugeNum">--</text>
          <text x="160" y="162" class="gauge-sublabel">/100</text>
          <defs>
            <linearGradient id="gaugeGrad" gradientUnits="userSpaceOnUse" x1="30" y1="160" x2="290" y2="160">
              <stop offset="0%" stop-color="var(--red-warn)"/>
              <stop offset="50%" stop-color="var(--amber)"/>
              <stop offset="100%" stop-color="var(--green-good)"/>
            </linearGradient>
          </defs>
        </svg>
      </div>
      <p class="gauge-status" id="gaugeStatus">Loading assessment…</p>
      <p class="gauge-note">Score synthesizes political scientists' assessments, V-Dem indicators, Freedom House rankings, and independent research. This is a qualitative tool for civic education.</p>
    </div>
  </div>
</section>

<!-- PILLARS -->
<section class="pillars-section" id="pillars">
  <div class="section-container">
    <div class="section-header" style="color: var(--text-dark);">
      <span class="section-label" style="color: var(--navy);">Seven Pillars</span>
      <h2 class="section-title" style="color: var(--text-dark);">What Democracy Requires</h2>
      <p class="section-intro" style="color: var(--text-muted);">Click any pillar to explore indicators, warning signs, and current U.S. status</p>
    </div>

    <div class="pillars-grid" id="pillarsGrid">
      <!-- Populated by JS -->
    </div>
  </div>
</section>

<!-- THREATS SECTION -->
<section class="threats-section" id="threats">
  <div class="section-container">
    <div class="section-header">
      <span class="section-label">Active Threats</span>
      <h2 class="section-title" style="color: var(--off-white);">Warning Signs in American Democracy</h2>
      <p class="section-intro">These are not hypothetical risks. They are documented, ongoing challenges requiring citizen attention.</p>
    </div>

    <div class="threats-grid" id="threatsGrid">
      <!-- Populated by JS -->
    </div>
  </div>
</section>

<!-- SOLUTIONS TIMELINE -->
<section class="solutions-section" id="solutions">
  <div class="section-container">
    <div class="section-header" style="color: var(--text-dark);">
      <span class="section-label" style="color: var(--navy);">What Must Change</span>
      <h2 class="section-title" style="color: var(--text-dark);">Structural Reforms That Work</h2>
      <p class="section-intro" style="color: var(--text-muted);">Evidence-based changes that strengthen democratic institutions and voter representation</p>
    </div>

    <div class="timeline" id="solutionsTimeline">
      <!-- Populated by JS -->
    </div>
  </div>
</section>

<!-- REFORM SPOTLIGHT -->
<section class="reforms-section" id="reforms">
  <div class="section-container">
    <div class="section-header">
      <span class="section-label">Reform Spotlight</span>
      <h2 class="section-title" style="color: var(--off-white);">Deep Dives on Priority Reforms</h2>
    </div>

    <div class="reform-tabs" id="reformTabs">
      <!-- Populated by JS -->
    </div>

    <div id="reformPanels">
      <!-- Populated by JS -->
    </div>
  </div>
</section>

<!-- CTA -->
<section class="cta-section">
  <div class="section-container" style="position: relative; z-index: 1;">
    <div class="section-header">
      <span class="section-label">Get Involved</span>
      <h2 class="section-title" style="color: var(--off-white);">Democracy Needs Your Voice</h2>
      <p class="section-intro">
        Veterans, citizens, and neighbors — join the effort to modernize elections and protect the republic we were promised.
      </p>
    </div>
    <div class="hero-cta-group" style="opacity: 1; animation: none;">
      <a href="https://oathandaction.substack.com" class="btn-gold" target="_blank">Read Oath &amp; Action</a>
      <a href="https://veteransforallvoters.org" class="btn-outline" target="_blank">Join Veterans for All Voters</a>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="footer">
  <a href="#" class="footer-logo">Oath <span class="amp">&amp;</span> Action</a>
  <span class="footer-copy">A civic education tool by Dustin Cathcart · Not affiliated with any party</span>
</footer>

<!-- MODAL -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal" id="modal">
    <div class="modal-header">
      <div class="modal-title-group">
        <span class="modal-label" id="modalLabel"></span>
        <h3 class="modal-title" id="modalTitle"></h3>
      </div>
      <button class="modal-close" id="modalClose">✕</button>
    </div>
    <div class="modal-body" id="modalBody"></div>
  </div>
</div>

<script>
// DATA

const PILLARS = [
  {
    id: 'elections',
    icon: '\u{1F5F3}\uFE0F',
    name: 'Free & Fair Elections',
    status: 'warning',
    score: 58,
    description: 'The foundation of democracy: citizens choosing representatives through transparent, competitive, accessible elections.',
    detail: {
      label: 'Pillar 1 of 7',
      overview: 'Elections are the core mechanism by which citizens exercise democratic authority. Free and fair elections require broad access, fair competition, transparent processes, and legitimate outcomes accepted by all parties.',
      quote: 'The right to vote is the right preservative of all other rights. Without it, all others are hollow.',
      healthy: ['Secret ballot protected and enforced', 'Independent election administration', 'Competitive multi-party contests', 'High and equal voter participation'],
      warning: ['Voter ID laws that suppress minority turnout without fraud evidence', 'Gerrymandering that predetermines outcomes before votes are cast', 'Partisan control of election certification', 'Widespread false claims of fraud without evidence'],
      critical: ['Refusal to accept legitimate election results', 'Intimidation of election officials', 'Legal schemes to override certified results'],
    }
  },
  {
    id: 'rule-of-law',
    icon: '\u2696\uFE0F',
    name: 'Rule of Law',
    status: 'warning',
    score: 55,
    description: 'No person is above the law. Government operates within legal constraints and courts remain independent.',
    detail: {
      label: 'Pillar 2 of 7',
      overview: 'Rule of law means that legal rules apply equally to everyone, including those in power. Courts must be independent, laws must be clear and stable, and no one \u2014 not even the president \u2014 is exempt from accountability.',
      quote: 'The laws of a nation form the most instructive portion of its history. \u2014 Alexis de Tocqueville',
      healthy: ['Independent judiciary insulated from political pressure', 'Equal application of law regardless of status', 'Transparent, accountable law enforcement', 'Peaceful transition of power under legal frameworks'],
      warning: ['Executive pressure on prosecutors and judges', 'Selective enforcement targeting political opponents', 'Presidential pardons used to shield allies', 'Claims of absolute or near-unlimited executive immunity'],
      critical: ['Refusal to comply with court orders', 'Dismantling of independent law enforcement oversight', 'Prosecution of political opponents on pretextual charges'],
    }
  },
  {
    id: 'civil-liberties',
    icon: '\u{1F5FD}',
    name: 'Civil Liberties',
    status: 'warning',
    score: 65,
    description: 'Freedom of speech, press, assembly, and religion \u2014 the rights that allow democracy to self-correct.',
    detail: {
      label: 'Pillar 3 of 7',
      overview: 'Civil liberties are the guardrails that allow citizens to hold government accountable. A free press investigates power. Free speech allows dissent. Freedom of assembly lets citizens organize. Without these, democratic self-correction becomes impossible.',
      quote: 'Freedom of the press is not just important to democracy, it is democracy. \u2014 Walter Cronkite',
      healthy: ['Robust, independent press with legal protections', 'Strong free speech protections including dissent', 'Protected right to peaceful protest', 'Religious pluralism and freedom of conscience'],
      warning: ['Concentrated media ownership undermining editorial independence', 'Government labeling of journalists as "enemies"', 'Chilling effect on speech through litigation threats', 'Surveillance programs expanding beyond legal authority'],
      critical: ['Physical targeting of journalists', 'Criminalization of protected speech or assembly', 'Government control of media messaging'],
    }
  },
  {
    id: 'checks-balances',
    icon: '\u{1F3DB}\uFE0F',
    name: 'Checks & Balances',
    status: 'critical',
    score: 42,
    description: 'Separation of powers, congressional oversight, judicial review \u2014 the system designed to prevent any single actor from seizing control.',
    detail: {
      label: 'Pillar 4 of 7',
      overview: 'The Founders built a government of competing powers deliberately. Congress legislates and checks the executive. Courts interpret and limit both. States check the federal government. This system was designed to fail slowly, allowing correction before catastrophe.',
      quote: 'Ambition must be made to counteract ambition. \u2014 James Madison, Federalist No. 51',
      healthy: ['Congress actively exercises oversight authority', 'Courts regularly constrain executive overreach', 'Independent agencies function free of direct political control', 'Norms and laws both constrain executive power'],
      warning: ['Congressional deference enabling executive power accumulation', 'Politicization of inspectors general and watchdog offices', 'Use of executive orders to circumvent legislative process', 'Courts packed with ideologically vetted judges on fast timelines'],
      critical: ['Impoundment of congressionally appropriated funds', 'Defiance of congressional subpoenas without legal challenge', 'Removal of inspectors general en masse', 'Assertion that one branch may act unilaterally without review'],
    }
  },
  {
    id: 'civic-participation',
    icon: '\u{1F91D}',
    name: 'Civic Participation',
    status: 'warning',
    score: 52,
    description: 'An informed, engaged citizenry that participates in democratic life beyond just voting every four years.',
    detail: {
      label: 'Pillar 5 of 7',
      overview: 'Democracy requires active citizens \u2014 people who vote, organize, deliberate, and hold leaders accountable. Low turnout, civic disengagement, and political polarization are not just symptoms; they are threats that weaken democratic resilience.',
      quote: 'The ballot is stronger than the bullet. \u2014 Abraham Lincoln',
      healthy: ['High and broadly representative voter turnout', 'Trust in democratic institutions above crisis threshold', 'Cross-partisan civic organizations and deliberation', 'Robust local government engagement'],
      warning: ['Widening partisan polarization and social sorting', 'Declining trust in elections, courts, and media', 'Youth disengagement from civic life', 'Winner-take-all voting discouraging participation'],
      critical: ['Widespread belief that elections cannot change outcomes', 'Violence as a substitute for democratic contestation', 'Mass rejection of political legitimacy by large groups'],
    }
  },
  {
    id: 'independent-institutions',
    icon: '\u{1F3D7}\uFE0F',
    name: 'Independent Institutions',
    status: 'critical',
    score: 38,
    description: 'Bureaucracies, agencies, and civil service that operate on law and expertise, not personal loyalty to leaders.',
    detail: {
      label: 'Pillar 6 of 7',
      overview: 'Democratic governance requires professional institutions \u2014 civil servants, regulators, military officers, and agency staff \u2014 who serve the rule of law rather than the person currently in power. The erosion of institutional independence is a hallmark of democratic backsliding worldwide.',
      quote: 'Institutions are the structures and mechanisms of social order governing the behavior of a set of individuals within a given community.',
      healthy: ['Professional civil service protected from political dismissal', 'Military under civilian authority without political roles', 'Independent regulatory agencies free from White House directives', 'Academic and scientific institutions free from political pressure'],
      warning: ['Mass firing of career civil servants and replacement with political loyalists', 'Use of military or National Guard for domestic political purposes', 'Political interference in regulatory decision-making', 'Attacks on university research and academic independence'],
      critical: ['Abolition of merit-based civil service protections', 'Requiring personal loyalty oaths to an individual rather than the Constitution', 'Deployment of military against civilian protests', 'Elimination of independent watchdog bodies'],
    }
  },
  {
    id: 'peaceful-transfer',
    icon: '\u{1F54A}\uFE0F',
    name: 'Peaceful Transfer of Power',
    status: 'critical',
    score: 45,
    description: 'The democratic norm above all others: losers accept results, winners respect limits, and power changes hands without violence.',
    detail: {
      label: 'Pillar 7 of 7',
      overview: 'Perhaps no norm is more essential to democracy than the peaceful transfer of power. It is so fundamental that we rarely examine it \u2014 until it fails. January 6, 2021 was the first time in American history that this norm was violated. The rupture revealed that norms alone are insufficient without legal enforcement.',
      quote: 'What distinguishes a democracy from other systems of governance is not just who votes, but whether those who lose power actually give it up.',
      healthy: ['Incumbent accepts and certifies election results regardless of outcome', 'Transition process is cooperative, transparent, and institution-preserving', 'No violence associated with transfer of power', 'Losing party continues as loyal democratic opposition'],
      warning: ['Contested certification processes', 'Slowdown or obstruction of transition protocols', 'Rhetoric delegitimizing future election results in advance', 'Continued false claims of stolen elections years after resolution'],
      critical: ['Coordinated effort to overturn a legitimate election', 'Violence targeting election officials or legislators', 'Legal schemes to appoint alternative slates of electors', 'Refusal by incumbent or allies to acknowledge defeat'],
    }
  },
];

const THREATS = [
  {
    icon: '\u{1F5FA}\uFE0F',
    title: 'Gerrymandering Locks In Minority Rule',
    severity: 'critical',
    excerpt: 'In states where one party controls redistricting, districts are drawn to guarantee outcomes regardless of vote share \u2014 making elections a formality rather than a choice.',
    detail: {
      overview: 'Partisan gerrymandering has become so sophisticated \u2014 using voter data at the census block level \u2014 that mapmakers can reliably predict outcomes years in advance. In Wisconsin in 2018, Democrats won 54% of the state assembly vote but only 36% of seats. This is not representative democracy.',
      indicators: [
        { type: 'red', text: 'Efficiency gaps of 10\u201315% in key swing states favor one party by structural design' },
        { type: 'red', text: 'Alabama and Louisiana redistricting cases showed courts struggling to police racial gerrymandering' },
        { type: 'gold', text: 'Independent redistricting commissions in California and Michigan have produced fairer maps' },
        { type: 'green', text: "Alaska and Maine's ranked choice voting makes gerrymandering less effective" },
      ]
    }
  },
  {
    icon: '\u{1F4B0}',
    title: 'Dark Money Has Captured Democratic Politics',
    severity: 'critical',
    excerpt: 'After Citizens United, billions in anonymous money flow into elections with no disclosure. Voters cannot know who is funding the campaigns trying to influence them.',
    detail: {
      overview: "The Supreme Court's 2010 Citizens United decision opened the floodgates for unlimited corporate political spending. Combined with 501(c)(4) \"social welfare\" organizations that can spend on elections without donor disclosure, American campaigns are now saturated with money that cannot be traced to its source.",
      indicators: [
        { type: 'red', text: '$1.5+ billion in dark money spent in 2020 election cycle \u2014 triple the 2016 total' },
        { type: 'red', text: 'Super PACs allow billionaires to spend unlimited amounts coordinating closely with campaigns' },
        { type: 'gold', text: 'DISCLOSE Act would require disclosure of donors above $10,000 \u2014 stalled repeatedly in Senate' },
        { type: 'green', text: 'State-level disclosure laws in 26 states provide more transparency than federal law' },
      ]
    }
  },
  {
    icon: '\u{1F4F1}',
    title: 'Disinformation Undermines Shared Reality',
    severity: 'high',
    excerpt: 'Social media algorithms optimized for engagement amplify outrage and falsehood. Without a shared factual basis, democratic deliberation becomes impossible.',
    detail: {
      overview: 'Democracy requires that citizens share a common understanding of basic facts even when they disagree on values and policy. When a significant portion of the electorate believes demonstrably false claims \u2014 about election fraud, vaccines, or political opponents \u2014 the deliberative process breaks down fundamentally.',
      indicators: [
        { type: 'red', text: 'Polling shows 60%+ of Republicans still believe 2020 election was stolen despite 60+ failed legal challenges' },
        { type: 'red', text: 'Algorithm-driven media bubbles mean citizens increasingly consume incompatible information realities' },
        { type: 'gold', text: 'Media literacy education is underfunded and not systematically taught in most school systems' },
        { type: 'green', text: 'European countries with stronger media regulation show lower disinformation spread rates' },
      ]
    }
  },
  {
    icon: '\u{1F4C9}',
    title: 'Voter Turnout Remains Structurally Suppressed',
    severity: 'high',
    excerpt: 'Compared to peer democracies, American voter participation is persistently low \u2014 a structural outcome of registration barriers, limited voting windows, and polling place access.',
    detail: {
      overview: 'The United States ranks 31st among 35 OECD democracies in voter turnout. This is not a cultural inevitability \u2014 it is the result of specific policy choices: requiring voter registration separate from government processes, holding elections on a working Tuesday, limiting early voting, and closing polling places in minority-heavy areas.',
      indicators: [
        { type: 'red', text: '30+ states passed voting restrictions between 2020 and 2023, often targeting methods used by minority voters' },
        { type: 'red', text: 'Polling place closures disproportionately affect Black and Latino communities' },
        { type: 'gold', text: 'Automatic voter registration adopted in 21 states shows modest but real turnout increases' },
        { type: 'green', text: '2020 saw record 66% turnout \u2014 highest in 120 years \u2014 showing suppression is not destiny' },
      ]
    }
  },
  {
    icon: '\u{1F3DB}\uFE0F',
    title: 'Senate Malapportionment Distorts Representation',
    severity: 'high',
    excerpt: "Wyoming's 580,000 residents get the same Senate representation as California's 39 million. Two senators from Wyoming have 68x the per-capita power of California senators.",
    detail: {
      overview: 'The constitutional structure of the Senate \u2014 two senators per state regardless of population \u2014 was a compromise for a different era. Today, it produces systematic over-representation of rural, predominantly white, conservative states and under-representation of urban, diverse, and more populous states. This structural bias increasingly determines which party controls government.',
      indicators: [
        { type: 'red', text: 'The Senate majority often represents fewer total voters than the Senate minority' },
        { type: 'red', text: '50 Republican senators can represent 40M fewer Americans than 50 Democratic senators' },
        { type: 'gold', text: 'DC and Puerto Rico statehood would add more representative balance \u2014 blocked repeatedly' },
        { type: 'green', text: 'Senate filibuster reform could at minimum allow majority will to govern on basic legislation' },
      ]
    }
  },
  {
    icon: '\u2696\uFE0F',
    title: 'Politicized Courts Threaten Independent Judiciary',
    severity: 'critical',
    excerpt: "The Supreme Court's conservative supermajority was achieved through norm-breaking \u2014 a stolen seat and rushed confirmation \u2014 raising legitimacy questions that won't go away.",
    detail: {
      overview: "An independent judiciary is essential to democracy. When courts are seen as \u2014 or actually function as \u2014 extensions of partisan political agendas, they lose their legitimating role. The Senate's refusal to hold hearings for Merrick Garland (2016) and rushed confirmation of Amy Coney Barrett eight days before an election broke longstanding norms with lasting consequences.",
      indicators: [
        { type: 'red', text: 'Supreme Court approval ratings hit historic lows following Dobbs and ethics revelations' },
        { type: 'red', text: 'No binding ethics code governed Supreme Court justices until 2023 \u2014 and enforcement remains weak' },
        { type: 'gold', text: 'Term limits and ethics reform legislation has bipartisan public support but not Senate majority' },
        { type: 'green', text: 'Lower courts have regularly checked executive overreach, demonstrating institutional resilience' },
      ]
    }
  },
  {
    icon: '\u{1F512}',
    title: 'Executive Power Is Accumulating Unchecked',
    severity: 'critical',
    excerpt: 'Claims of near-unlimited executive authority, the gutting of inspectors general, and impoundment of congressional appropriations represent an unprecedented consolidation of power.',
    detail: {
      overview: 'The presidency has been expanding in power for decades, but recent years have seen claims of executive authority that go far beyond historical precedent. When a president asserts immunity from criminal prosecution, fires independent watchdogs, refuses congressional oversight, and impounds congressionally appropriated funds, the constitutional balance is in serious jeopardy.',
      indicators: [
        { type: 'red', text: 'Dozens of inspectors general fired en masse in apparent violation of congressional notification requirements' },
        { type: 'red', text: 'Impoundment of congressionally appropriated foreign aid without legal authority in 2025' },
        { type: 'red', text: 'Supreme Court granted expanded immunity for presidential "official acts" with no clear limits' },
        { type: 'gold', text: 'Courts have blocked multiple executive actions on constitutional grounds \u2014 checks still functioning unevenly' },
      ]
    }
  },
  {
    icon: '\u{1F4CA}',
    title: 'Winner-Take-All Voting Produces Extremism',
    severity: 'medium',
    excerpt: 'Plurality voting in party primaries \u2014 where small, ideologically extreme bases choose nominees \u2014 has driven partisan polarization and made moderation politically costly.',
    detail: {
      overview: 'The way we vote shapes who runs, who wins, and how they govern. Our current system \u2014 plurality primaries, winner-take-all generals \u2014 rewards ideological intensity over broad appeal. A candidate can win a competitive primary with 30% of the vote. Third party and independent voices are systematically excluded. Moderate voters feel abandoned.',
      indicators: [
        { type: 'red', text: 'Primary turnout averages 15\u201320%, meaning a tiny ideological base picks most nominees' },
        { type: 'red', text: 'Politicians who compromise face primary challengers from their own party as punishment' },
        { type: 'gold', text: 'Alaska and Maine show ranked choice voting produces more moderate, broadly appealing winners' },
        { type: 'green', text: 'Open primaries in 18 states allow more voters to participate in the most decisive stage of elections' },
      ]
    }
  },
];

const SOLUTIONS = [
  {
    num: '01',
    title: 'Ranked Choice Voting',
    body: "Replace plurality voting with ranked preference systems that ensure winners have broad support, reduce spoiler effects, and make extreme candidates unviable. Alaska and Maine demonstrate it works at scale. Massachusetts could be next.",
  },
  {
    num: '02',
    title: 'Independent Redistricting',
    body: 'Remove partisan politicians from the mapmaking process entirely. Citizen-controlled redistricting commissions \u2014 like those in California, Michigan, and Colorado \u2014 produce maps that reflect voters, not politicians.',
  },
  {
    num: '03',
    title: 'Automatic Voter Registration',
    body: 'When a citizen interacts with any government agency, register them to vote by default. This eliminates the arbitrary registration barrier without compromising election integrity. 21 states have adopted it.',
  },
  {
    num: '04',
    title: 'Campaign Finance Transparency',
    body: 'Require full disclosure of all donors above a reasonable threshold, close LLC and PAC loopholes, and establish real-time reporting. Citizens deserve to know who is funding the campaigns influencing their votes.',
  },
  {
    num: '05',
    title: 'Supreme Court Reform',
    body: 'Establish binding ethics rules with real enforcement, move toward fixed 18-year terms to reduce the stakes of any single vacancy, and expand the court to restore its depleted legitimacy.',
  },
  {
    num: '06',
    title: 'Restore and Reinforce Congressional Oversight',
    body: 'Pass legislation strengthening the Impoundment Control Act, codify inspector general independence, require congressional approval for emergency power uses, and establish automatic legal standing to challenge executive overreach.',
  },
  {
    num: '07',
    title: 'Media Literacy Education',
    body: "Integrate critical information literacy into K\u201312 curricula nationwide. Citizens who can evaluate sources, identify manipulation, and distinguish news from opinion are more resilient to disinformation.",
  },
];

const REFORMS = [
  {
    id: 'rcv',
    label: 'Ranked Choice Voting',
    title: 'Ranked Choice Voting',
    desc: "Voters rank candidates by preference. If no one wins a majority, the last-place candidate is eliminated and those votes are redistributed. This continues until one candidate has a majority. The result: winners who broadly represent their constituents.",
    quote: "With RCV, voters can vote for who they actually want without fear of \"wasting\" their vote. It's democracy without the spoiler problem.",
    stats: [
      { num: '50+', label: 'US cities and states using RCV' },
      { num: '90%', label: 'Alaska voters said RCV was easy to use' },
      { num: '2x', label: 'More candidates of color win with RCV' },
      { num: '48', label: 'Countries use preferential voting systems' },
    ]
  },
  {
    id: 'open-primaries',
    label: 'Open Primaries',
    title: 'Open & Top-Four Primaries',
    desc: "Instead of separate party primaries where only registered partisans vote, all candidates run in a single primary open to all voters. The top two, four, or more advance to the general election regardless of party. Alaska's model pairs this with ranked choice voting for the general.",
    quote: 'The most consequential election in most districts is the primary \u2014 and most voters are locked out of it entirely. Open primaries fix that.',
    stats: [
      { num: '18', label: 'States with some form of open or nonpartisan primary' },
      { num: '8%', label: 'Typical competitive primary turnout' },
      { num: '48%', label: "Alaska's open primary participation rate" },
      { num: '60%', label: 'Americans support open primaries across parties' },
    ]
  },
  {
    id: 'independent-maps',
    label: 'Independent Maps',
    title: 'Independent Redistricting',
    desc: 'Citizens \u2014 not politicians \u2014 draw the district lines. Commissioners are selected through application processes designed to exclude party officials and lobbyists. They are required to follow criteria prioritizing equal population, compliance with Voting Rights Act, geographic compactness, and community preservation.',
    quote: "Politicians should not be able to choose their own voters. It's that simple.",
    stats: [
      { num: '13', label: 'States with independent redistricting commissions' },
      { num: '10%', label: 'Average efficiency gap improvement vs. partisan maps' },
      { num: '0', label: 'Federal court strikes of CA commission maps since 2011' },
      { num: '42', label: 'Seats flipped from safe to competitive after MI reforms' },
    ]
  },
  {
    id: 'campaign-finance',
    label: 'Campaign Finance',
    title: 'Campaign Finance Reform',
    desc: 'The DISCLOSE Act would require all organizations spending on elections to publicly disclose donors above $10,000. Combined with small-dollar matching programs and corporate contribution limits, this would meaningfully reduce the role of anonymous wealth in determining election outcomes.',
    quote: "When money speaks louder than citizens, government responds to money. That's not a theory \u2014 it's documented by decades of policy research.",
    stats: [
      { num: '$16B', label: 'Spent in 2024 election cycle' },
      { num: '$1.5B', label: 'Dark money in 2020 \u2014 untraceable' },
      { num: '72%', label: 'Americans across parties support more disclosure' },
      { num: '60+', label: 'Failed Senate DISCLOSE Act votes since 2010' },
    ]
  },
];

// STARS
function initStars() {
  const canvas = document.getElementById('starCanvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  const stars = Array.from({ length: 200 }, () => ({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    r: Math.random() * 1.2 + 0.2,
    opacity: Math.random() * 0.7 + 0.1,
    twinkle: Math.random() * Math.PI * 2,
  }));

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    stars.forEach(s => {
      s.twinkle += 0.01;
      const o = s.opacity + Math.sin(s.twinkle) * 0.15;
      ctx.beginPath();
      ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(240, 239, 234, ${Math.max(0, Math.min(1, o))})`;
      ctx.fill();
    });
    requestAnimationFrame(draw);
  }
  draw();

  window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  });
}

// NAV
function initNav() {
  const nav = document.getElementById('nav');
  window.addEventListener('scroll', () => {
    nav.classList.toggle('scrolled', window.scrollY > 60);
  });
}

// GAUGE
function initGauge() {
  const score = 51;
  const gaugeProgress = document.getElementById('gaugeProgress');
  const gaugeNeedle = document.getElementById('gaugeNeedle');
  const gaugeNum = document.getElementById('gaugeNum');
  const gaugeStatus = document.getElementById('gaugeStatus');

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        const totalLength = 408;
        const offset = totalLength - (score / 100) * totalLength;
        gaugeProgress.style.strokeDashoffset = offset;
        const needleDeg = -90 + (score / 100) * 180;
        gaugeNeedle.style.transform = `rotate(${needleDeg}deg)`;
        let current = 0;
        const interval = setInterval(() => {
          current = Math.min(current + 1, score);
          gaugeNum.textContent = current;
          if (current >= score) clearInterval(interval);
        }, 25);
        gaugeStatus.textContent = '\u201CBacksliding Democracy\u201D \u2014 Warning-Level Stress on Multiple Pillars';
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.3 });

  observer.observe(document.getElementById('gauge-wrapper'));
}

// PILLARS
function renderPillars() {
  const grid = document.getElementById('pillarsGrid');
  grid.innerHTML = PILLARS.map((p, i) => `
    <div class="pillar-card status-${p.status}" 
         data-pillar="${p.id}" 
         style="transition-delay: ${i * 60}ms"
         onclick="openPillarModal('${p.id}')">
      <span class="pillar-icon">${p.icon}</span>
      <div class="pillar-name">${p.name}</div>
      <span class="pillar-status-badge">
        <span>${p.status === 'critical' ? '\u26A0' : p.status === 'warning' ? '\u25B3' : '\u2713'}</span>
        ${p.status}
      </span>
      <div class="pillar-score-bar">
        <div class="pillar-score-fill" data-score="${p.score}"></div>
      </div>
      <div class="pillar-score-label">${p.score}/100 \u2014 ${p.status === 'critical' ? 'Critical concern requiring urgent attention' : p.status === 'warning' ? 'Under stress \u2014 active warning signs present' : 'Functioning with room for improvement'}</div>
      <p class="pillar-description">${p.description}</p>
      <button class="pillar-expand-btn" aria-label="Explore ${p.name}">
        Learn more
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none">
          <path d="M6 2L6 10M2 6L6 10L10 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  `).join('');

  const cards = grid.querySelectorAll('.pillar-card');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        e.target.classList.add('visible');
        const bar = e.target.querySelector('.pillar-score-fill');
        if (bar) {
          setTimeout(() => { bar.style.width = bar.dataset.score + '%'; }, 200);
        }
        observer.unobserve(e.target);
      }
    });
  }, { threshold: 0.1 });

  cards.forEach(c => observer.observe(c));
}

// PILLAR MODAL
function openPillarModal(id) {
  const p = PILLARS.find(x => x.id === id);
  if (!p) return;
  const d = p.detail;

  document.getElementById('modalLabel').textContent = d.label;
  document.getElementById('modalTitle').textContent = `${p.icon} ${p.name}`;
  
  const statusColor = p.status === 'critical' ? 'var(--red-warn)' : p.status === 'warning' ? 'var(--amber)' : 'var(--green-good)';
  
  document.getElementById('modalBody').innerHTML = `
    <div style="display:inline-flex; align-items:center; gap:0.5rem; padding:0.35rem 1rem; margin-bottom:1.5rem; font-family:'Source Sans 3',sans-serif; font-weight:600; font-size:0.65rem; letter-spacing:2px; text-transform:uppercase; background:rgba(200,164,78,0.1); color:${statusColor}; border-left: 2px solid ${statusColor};">
      Score: ${p.score}/100 \u00B7 Status: ${p.status.toUpperCase()}
    </div>
    <p class="modal-text">${d.overview}</p>
    <blockquote class="modal-quote">"${d.quote}"</blockquote>

    <div class="modal-section-title">Healthy Indicators</div>
    <ul class="indicator-list">
      ${d.healthy.map(item => `<li class="indicator-item"><span class="indicator-dot dot-green"></span>${item}</li>`).join('')}
    </ul>

    <div class="modal-section-title">Warning Signs</div>
    <ul class="indicator-list">
      ${d.warning.map(item => `<li class="indicator-item"><span class="indicator-dot dot-gold"></span>${item}</li>`).join('')}
    </ul>

    <div class="modal-section-title">Critical Failures</div>
    <ul class="indicator-list">
      ${d.critical.map(item => `<li class="indicator-item"><span class="indicator-dot dot-red"></span>${item}</li>`).join('')}
    </ul>

    <a href="https://oathandaction.substack.com" class="modal-cta" target="_blank">Read More on Oath &amp; Action \u2192</a>
  `;

  openModal();
}

// THREATS
function renderThreats() {
  const grid = document.getElementById('threatsGrid');
  grid.innerHTML = THREATS.map((t, i) => `
    <div class="threat-card severity-${t.severity}" 
         style="transition-delay: ${i * 70}ms"
         onclick="openThreatModal(${i})">
      <div class="threat-severity"></div>
      <div class="threat-sev-label">${t.severity}</div>
      <span class="threat-icon">${t.icon}</span>
      <div class="threat-title">${t.title}</div>
      <p class="threat-excerpt">${t.excerpt}</p>
      <button class="threat-read-more" aria-label="Read more">
        Explore indicators
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M3 7H11M7 3L11 7L7 11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </button>
    </div>
  `).join('');

  const cards = grid.querySelectorAll('.threat-card');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        e.target.classList.add('visible');
        observer.unobserve(e.target);
      }
    });
  }, { threshold: 0.1 });
  cards.forEach(c => observer.observe(c));
}

function openThreatModal(i) {
  const t = THREATS[i];
  const severityColor = { critical: 'var(--red-warn)', high: 'var(--amber)', medium: 'var(--gold)' }[t.severity];

  document.getElementById('modalLabel').textContent = `Threat Assessment \u00B7 Severity: ${t.severity.toUpperCase()}`;
  document.getElementById('modalTitle').textContent = `${t.icon} ${t.title}`;

  document.getElementById('modalBody').innerHTML = `
    <p class="modal-text">${t.detail.overview}</p>

    <div class="modal-section-title">Indicators & Evidence</div>
    <ul class="indicator-list">
      ${t.detail.indicators.map(item => `
        <li class="indicator-item">
          <span class="indicator-dot dot-${item.type}"></span>
          ${item.text}
        </li>
      `).join('')}
    </ul>

    <a href="https://oathandaction.substack.com" class="modal-cta" target="_blank">Subscribe for Analysis \u2192</a>
  `;

  openModal();
}

// SOLUTIONS
function renderSolutions() {
  const container = document.getElementById('solutionsTimeline');
  container.innerHTML = SOLUTIONS.map((s, i) => `
    <div class="timeline-item" style="transition-delay: ${i * 80}ms">
      <div class="timeline-dot"></div>
      <div class="timeline-num">Reform ${s.num}</div>
      <div class="timeline-title">${s.title}</div>
      <p class="timeline-body">${s.body}</p>
    </div>
  `).join('');

  const items = container.querySelectorAll('.timeline-item');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) { e.target.classList.add('visible'); observer.unobserve(e.target); }
    });
  }, { threshold: 0.15 });
  items.forEach(i => observer.observe(i));
}

// REFORMS
function renderReforms() {
  const tabsEl = document.getElementById('reformTabs');
  const panelsEl = document.getElementById('reformPanels');

  tabsEl.innerHTML = REFORMS.map((r, i) => `
    <button class="reform-tab ${i === 0 ? 'active' : ''}" onclick="switchTab(${i})">${r.label}</button>
  `).join('');

  panelsEl.innerHTML = REFORMS.map((r, i) => `
    <div class="reform-panel ${i === 0 ? 'active' : ''}" id="reform-panel-${i}">
      <div>
        <h3 class="reform-panel-title">${r.title}</h3>
        <p class="reform-panel-desc">${r.desc}</p>
        <blockquote class="reform-panel-quote">"${r.quote}"</blockquote>
        <a href="https://oathandaction.substack.com" class="modal-cta" target="_blank">Read More \u2192</a>
      </div>
      <div class="reform-stat-grid">
        ${r.stats.map(s => `
          <div class="reform-stat">
            <div class="reform-stat-num">${s.num}</div>
            <div class="reform-stat-label">${s.label}</div>
          </div>
        `).join('')}
      </div>
    </div>
  `).join('');
}

function switchTab(index) {
  document.querySelectorAll('.reform-tab').forEach((t, i) => {
    t.classList.toggle('active', i === index);
  });
  document.querySelectorAll('.reform-panel').forEach((p, i) => {
    p.classList.toggle('active', i === index);
  });
}

// MODAL CONTROLS
function openModal() {
  const overlay = document.getElementById('modalOverlay');
  overlay.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  const overlay = document.getElementById('modalOverlay');
  overlay.classList.remove('active');
  document.body.style.overflow = '';
}

document.getElementById('modalClose').addEventListener('click', closeModal);
document.getElementById('modalOverlay').addEventListener('click', (e) => {
  if (e.target === e.currentTarget) closeModal();
});
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') closeModal();
});

// INIT
initStars();
initNav();
initGauge();
renderPillars();
renderThreats();
renderSolutions();
renderReforms();
</script>

</body>
</html>
